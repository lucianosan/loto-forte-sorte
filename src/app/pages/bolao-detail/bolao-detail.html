<div class="detail-container" *ngIf="bolao; else notFound">
  <div class="content-grid">
    <!-- Main Content (Left) -->
    <div class="main-column">
      <div class="tabs">
        <button [class.active]="activeTab === 'details'" (click)="activeTab = 'details'">Detalhes do bol√£o</button>
        <button [class.active]="activeTab === 'games'" (click)="activeTab = 'games'">Apostas ({{ bolao.games.length }})</button>
        <button [class.active]="activeTab === 'strategies'" (click)="activeTab = 'strategies'">Estrat√©gias</button>
      </div>

      <div class="tab-content">
        <!-- Estrat√©gias Tab (Default as per screenshot) -->
        <div *ngIf="activeTab === 'strategies'" class="strategy-content">
          <div class="prob-header">
            <h3>Probabilidade {{ bolao.chanceLabel.toLowerCase() }}! üìä</h3>
          </div>

          <div class="strategy-text">
            <h4>Estrat√©gias</h4>
            <p class="highlight">SUPER GRUPO!</p>
            <p>{{ bolao.games.length }} cart√µes! PREMIA√á√ÉO MULTIPLICADA!</p>
            <p>A probabilidade de ACERTARMOS √© AUMENTADA com fechamentos matem√°ticos.</p>
            
            <div class="prize-info">
              <p><strong>Premia√ß√£o garantida:</strong></p>
              <ul>
                <li>Otimiza√ß√£o de custos com fechamentos inteligentes</li>
                <li>Cobertura de m√∫ltiplas combina√ß√µes num√©ricas</li>
              </ul>
            </div>
          </div>

          <div class="composition-box">
            <h4>Composi√ß√£o da aposta</h4>
            <p class="sub-label">Dezenas utilizadas neste bol√£o</p>
            
            <div class="numbers-grid">
              <span *ngFor="let num of uniqueNumbers" class="num-badge">{{ num | number:'2.0-0' }}</span>
            </div>
          </div>

          <div class="info-note">
            <p>‚ÑπÔ∏è A descri√ß√£o acima tem car√°ter informativo e n√£o serve como comprovante de aposta. Confira nesta p√°gina os n√∫meros escolhidos e as apostas do bol√£o.</p>
          </div>
        </div>

        <!-- Apostas Tab -->
        <div *ngIf="activeTab === 'games'" class="games-content">
          <h3>Jogos Gerados</h3>
          <div class="games-list">
            <div *ngFor="let game of bolao.games; let i = index" class="game-row">
              <span class="game-index">Jogo {{ i + 1 }}</span>
              <div class="game-numbers">
                <span *ngFor="let n of game" class="small-num">{{ n | number:'2.0-0' }}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Detalhes Tab -->
        <div *ngIf="activeTab === 'details'" class="details-content">
          <h3>Detalhes do Sorteio</h3>
          <p><strong>Concurso:</strong> {{ bolao.contestNumber }}</p>
          <p><strong>Data:</strong> {{ bolao.contestDate | date:'dd/MM/yyyy' }}</p>
          <p><strong>Loteria:</strong> {{ bolao.lotteryType.replace('_', ' ') }}</p>
          <p><strong>C√≥digo:</strong> {{ bolao.code }}</p>
        </div>
      </div>
    </div>

    <!-- Sidebar (Right - Sticky Cart Card) -->
    <div class="sidebar-column">
      <div class="cart-card">
        <div class="card-header-strip"></div>
        <div class="cart-content">
          <h3>BOL√ÉO {{ bolao.lotteryType.replace('_', ' ') }}</h3>
          <p class="prize-estimate">R$ ESTIMADO</p>
          
          <div class="stats-row">
            <div class="stat">
              <span class="label">Cotas</span>
              <span class="value">{{ bolao.totalShares }}</span>
            </div>
            <div class="stat">
              <span class="label">Dispon√≠veis</span>
              <span class="value">{{ bolao.availableShares }}</span>
            </div>
            <div class="stat price">
              <span class="label">Valor da cota</span>
              <span class="value">{{ bolao.pricePerShare | currency:'BRL' }}</span>
            </div>
          </div>

          <button class="btn-add-cart" (click)="buyBolao()">
            üõí Adicionar ao carrinho
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #notFound>
  <div class="not-found">
    <h2>Bol√£o n√£o encontrado</h2>
    <a routerLink="/" class="btn-back">Voltar para Home</a>
  </div>
</ng-template>
